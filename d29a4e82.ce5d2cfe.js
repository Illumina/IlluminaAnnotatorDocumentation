(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{166:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return b})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(3),r=a(7),l=(a(0),a(181)),i={title:"Custom Annotations"},b={unversionedId:"file-formats/custom-annotations",id:"version-3.13/file-formats/custom-annotations",isDocsHomePage:!1,title:"Custom Annotations",description:"Overview",source:"@site/versioned_docs/version-3.13/file-formats/custom-annotations.md",slug:"/file-formats/custom-annotations",permalink:"/NirvanaDocumentation/3.13/file-formats/custom-annotations",editUrl:"https://github.com/Illumina/NirvanaDocumentation/edit/master/versioned_docs/version-3.13/file-formats/custom-annotations.md",version:"3.13",sidebar:"version-3.13/docs",previous:{title:"Nirvana JSON File Format",permalink:"/NirvanaDocumentation/3.13/file-formats/nirvana-json-file-format"},next:{title:"Variant IDs",permalink:"/NirvanaDocumentation/3.13/core-functionality/variant-ids"}},c=[{value:"Overview",id:"overview",children:[]},{value:"Variant File Format",id:"variant-file-format",children:[{value:"Basic Allele Frequency Example",id:"basic-allele-frequency-example",children:[]},{value:"Categories &amp; Descriptions Example",id:"categories--descriptions-example",children:[]},{value:"Genomic Region Example",id:"genomic-region-example",children:[]},{value:"Mixing Small Variants and Genomic Regions",id:"mixing-small-variants-and-genomic-regions",children:[]}]},{value:"Gene File Format",id:"gene-file-format",children:[{value:"Basic Gene Example",id:"basic-gene-example",children:[]}]},{value:"Customizing the Header",id:"customizing-the-header",children:[{value:"Title",id:"title",children:[]},{value:"Genome Assemblies",id:"genome-assemblies",children:[]},{value:"Matching Criteria",id:"matching-criteria",children:[]},{value:"Categories",id:"categories",children:[]},{value:"Descriptions",id:"descriptions",children:[]},{value:"Data Types",id:"data-types",children:[]}]},{value:"Using SAUtils",id:"using-sautils",children:[{value:"Convert Variant File",id:"convert-variant-file",children:[]},{value:"Convert Gene File",id:"convert-gene-file",children:[]}]}],o={toc:c};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},o,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"overview"},"Overview"),Object(l.b)("p",null,"While the team tries to keep data sources up-to-date, you might want to start incorporate new annotations ahead of our update cycle. Another\ncommon use case involves protected health information (PHI). Custom annotations are a mechanism that enables both use cases."),Object(l.b)("p",null,"Here are some examples of how our collaborators use custom annotations:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"associating context from both a patient-level and a patient cohort level with the variant annotations"),Object(l.b)("li",{parentName:"ul"},"adding content that is licensed (e.g. HGMD) to the variant annotations")),Object(l.b)("p",null,"At the moment, we have two different custom annotation file formats. One provides additional annotations to variants (both small variants and SVs)\nwhile the other caters to gene annotations."),Object(l.b)("p",null,"In both cases, the custom annotation file format is a tab-delimited file that is separated into two parts: the header & the data."),Object(l.b)("p",null,"The header is where you can customize how you want the data to appear in the JSON file and provide context about the genome assembly and how\nNirvana should match the variants."),Object(l.b)("p",null,"At Illumina, there are usually many components downstream of Nirvana that have to parse our annotations. If a customer provides a custom\nannotation, those downstream tools need to understand more about the data such as:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"data type (e.g. number, boolean, or a string)"),Object(l.b)("li",{parentName:"ul"},"data category (e.g. is this an allele count, allele number, allele frequency, etc.)"),Object(l.b)("li",{parentName:"ul"},"associated population (i.e. if this is an allele frequency)")),Object(l.b)("p",null,"For each custom annotation, Nirvana uses this context to create a ",Object(l.b)("a",{parentName:"p",href:"https://json-schema.org/"},"JSON schema")," that can be sent to downstream tools. If\na tool knows that this is an allele frequency, it can validate user input to ensure that it's in the range of ","[0, 1]","."),Object(l.b)("h2",{id:"variant-file-format"},"Variant File Format"),Object(l.b)("h3",{id:"basic-allele-frequency-example"},"Basic Allele Frequency Example"),Object(l.b)("h4",{id:"create-the-custom-annotation-tsv"},"Create the Custom Annotation TSV"),Object(l.b)("p",null,"Imagine that you want to create a basic allele frequency custom annotation for small variants. If we visualized the tab-delimited file\n(TSV), it would look something like this:"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Col 1"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 2"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 3"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 4"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 5"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#title=MyDataSource"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#assembly=GRCh38"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#matchVariantsBy=allele"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#CHROM"),Object(l.b)("td",{parentName:"tr",align:"left"},"POS"),Object(l.b)("td",{parentName:"tr",align:"left"},"REF"),Object(l.b)("td",{parentName:"tr",align:"left"},"ALT"),Object(l.b)("td",{parentName:"tr",align:"left"},"allAf")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#categories"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"AlleleFrequency")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#descriptions"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"ALL")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#type"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"number")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"23603511"),Object(l.b)("td",{parentName:"tr",align:"left"},"TGA"),Object(l.b)("td",{parentName:"tr",align:"left"},"T"),Object(l.b)("td",{parentName:"tr",align:"left"},"0.000006579")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"68801894"),Object(l.b)("td",{parentName:"tr",align:"left"},"G"),Object(l.b)("td",{parentName:"tr",align:"left"},"A"),Object(l.b)("td",{parentName:"tr",align:"left"},"0.000006569")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr19"),Object(l.b)("td",{parentName:"tr",align:"left"},"11107436"),Object(l.b)("td",{parentName:"tr",align:"left"},"G"),Object(l.b)("td",{parentName:"tr",align:"left"},"A"),Object(l.b)("td",{parentName:"tr",align:"left"},"0.00003291")))),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/MyDataSource.tsv"},"the full TSV file"),"."),Object(l.b)("p",null,"Let's go over the header and discuss the contents:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"title")," indicates the name of the JSON key"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"assembly")," indicates that this data is only valid for ",Object(l.b)("inlineCode",{parentName:"li"},"GRCh38")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"matchVariantsBy")," indicates that we should only match the annotations if they are allele-specific"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"categories")," provides hints to downstream tools on how they might want to treat the data. In this case, we indicate that it's an allele\nfrequency."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"descriptions")," are used in special circumstances to provide more context. Even though column 5 is called ",Object(l.b)("inlineCode",{parentName:"li"},"allAf"),", it might not be clear to a\ndownstream tool that this means a global allele frequency using all sub-populations. In this case, ",Object(l.b)("inlineCode",{parentName:"li"},"ALL")," indicates the intended population."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"type")," indicates to downstream tools the data type. Since allele frequencies are numbers, we'll write ",Object(l.b)("inlineCode",{parentName:"li"},"number")," in this column.")),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Reference Base Checking")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Nirvana validates all the reference bases in a custom annotation. If a variant or genomic region is specified that has the wrong reference base, an error will be produced."))),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Sorting")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"The variants within each chromosome must be sorted by genomic position."))),Object(l.b)("h4",{id:"convert-to-nirvana-format"},"Convert to Nirvana Format"),Object(l.b)("p",null,"First we need to convert the TSV file to Nirvana's native file format and let's put that file in a new directory called CA:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},"$ mkdir CA\n$ dotnet bin/Release/netcoreapp2.1/SAUtils.dll customvar \\\n  -r Data/References/Homo_sapiens.GRCh38.Nirvana.dat -i MyDataSource.tsv -o CA\n---------------------------------------------------------------------------\nSAUtils                                             (c) 2020 Illumina, Inc.\nStromberg, Roy, Lajugie, Jiang, Li, and Kang                         3.12.0\n---------------------------------------------------------------------------\n\nChromosome 16 completed in 00:00:00.1\nChromosome 19 completed in 00:00:00.0\n\nTime: 00:00:00.2\n")),Object(l.b)("h4",{id:"annotate-with-nirvana"},"Annotate with Nirvana"),Object(l.b)("p",null,"Let's annotate the following VCF (notice that it's one of the variants that we have in our custom annotation):"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-scss"},"##fileformat=VCFv4.1\n#CHROM  POS ID  REF ALT QUAL    FILTER  INFO\n16  68801894    .   G   A   .   .   .\n")),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA.vcf"},"the full VCF file"),"."),Object(l.b)("p",null,"Since Nirvana can handle multiple directories with external annotations, all we need to do is specify our new CA directory in addition to\nthe normal Nirvana command-line."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"$ dotnet bin/Release/netcoreapp2.1/Nirvana.dll -c Data/Cache/GRCh38/Both \\\n  -r Data/References/Homo_sapiens.GRCh38.Nirvana.dat \\\n  --sd Data/SupplementaryAnnotation/GRCh38 --sd CA -i TestCA.vcf -o TestCA\n---------------------------------------------------------------------------\nNirvana                                             (c) 2020 Illumina, Inc.\nStromberg, Roy, Lajugie, Jiang, Li, and Kang                         3.12.0\n---------------------------------------------------------------------------\n\nInitialization                                         Time     Positions/s\n---------------------------------------------------------------------------\nCache                                               00:00:01.8\nSA Position Scan                                    00:00:00.0           19\n\nReference                                Preload    Annotation   Variants/s\n---------------------------------------------------------------------------\nchr16                                   00:00:00.2  00:00:01.3            1\n\nSummary                                                Time         Percent\n---------------------------------------------------------------------------\nInitialization                                      00:00:01.9       25.5 %\nPreload                                             00:00:00.2        3.3 %\nAnnotation                                          00:00:01.3       18.2 %\n\nTime: 00:00:06.3\n")),Object(l.b)("h4",{id:"investigate-the-results"},"Investigate the Results"),Object(l.b)("p",null,"We would expect the following data to show up in our JSON output file:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{12-16}","{12-16}":!0},'      "variants": [\n        {\n          "vid": "16-68801894-G-A",\n          "chromosome": "16",\n          "begin": 68801894,\n          "end": 68801894,\n          "refAllele": "G",\n          "altAllele": "A",\n          "variantType": "SNV",\n          "hgvsg": "NC_000016.10:g.68801894G>A",\n          "phylopScore": 1,\n          "MyDataSource": {\n            "refAllele": "G",\n            "altAllele": "A",\n            "allAf": 7e-06\n          },\n          "clinvar": [\n')),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA.json.gz"},"the full JSON file"),"."),Object(l.b)("p",null,"Nirvana preserves up to 6 decimal places for allele frequency data."),Object(l.b)("h3",{id:"categories--descriptions-example"},"Categories & Descriptions Example"),Object(l.b)("h4",{id:"create-the-custom-annotation-tsv-1"},"Create the Custom Annotation TSV"),Object(l.b)("p",null,"Building on the previous example, we can add other types of annotations like predictions and general notes."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Col 1"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 2"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 3"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 4"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 5"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 6"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 7"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#title=MyDataSource"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#assembly=GRCh38"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#matchVariantsBy=allele"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#CHROM"),Object(l.b)("td",{parentName:"tr",align:"left"},"POS"),Object(l.b)("td",{parentName:"tr",align:"left"},"REF"),Object(l.b)("td",{parentName:"tr",align:"left"},"ALT"),Object(l.b)("td",{parentName:"tr",align:"left"},"allAf"),Object(l.b)("td",{parentName:"tr",align:"left"},"pathogenicity"),Object(l.b)("td",{parentName:"tr",align:"left"},"notes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#categories"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"AlleleFrequency"),Object(l.b)("td",{parentName:"tr",align:"left"},"Prediction"),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#descriptions"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"ALL"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#type"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"number"),Object(l.b)("td",{parentName:"tr",align:"left"},"string"),Object(l.b)("td",{parentName:"tr",align:"left"},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"23603511"),Object(l.b)("td",{parentName:"tr",align:"left"},"TGA"),Object(l.b)("td",{parentName:"tr",align:"left"},"T"),Object(l.b)("td",{parentName:"tr",align:"left"},"0.000006579"),Object(l.b)("td",{parentName:"tr",align:"left"},"P"),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"68801894"),Object(l.b)("td",{parentName:"tr",align:"left"},"G"),Object(l.b)("td",{parentName:"tr",align:"left"},"A"),Object(l.b)("td",{parentName:"tr",align:"left"},"0.000006569"),Object(l.b)("td",{parentName:"tr",align:"left"},"LP"),Object(l.b)("td",{parentName:"tr",align:"left"},"Seen in case 123")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr19"),Object(l.b)("td",{parentName:"tr",align:"left"},"11107436"),Object(l.b)("td",{parentName:"tr",align:"left"},"G"),Object(l.b)("td",{parentName:"tr",align:"left"},"A"),Object(l.b)("td",{parentName:"tr",align:"left"},"0.00003291"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")))),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/MyDataSource2.tsv"},"the full TSV file"),"."),Object(l.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Placeholders")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"You can use a period to denote an empty value (much in the same way as periods are used in VCF files to signify missing values). While\nNirvana also accepts empty columns in the TSV file, we use them in these examples to promote readability."))),Object(l.b)("p",null,"Let's go over what's new in this example:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Column 6")," adds a field called ",Object(l.b)("inlineCode",{parentName:"li"},"pathogenicity")," which uses the ",Object(l.b)("inlineCode",{parentName:"li"},"Prediction")," category. When using this category, Nirvana will\nvalidate to make\nsure that the field contains either the abbreviations (B, LB, VUS, LP, and P) or the long-form equivalents (e.g. benign or pathogenic)."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Column 7")," adds a field called ",Object(l.b)("inlineCode",{parentName:"li"},"notes")," and it doesn't have a category or description. We're just going to use it to add some internal\nnotes.")),Object(l.b)("h4",{id:"annotate-with-nirvana-1"},"Annotate with Nirvana"),Object(l.b)("p",null,"Let's use a new VCF file. It includes all the same positions as our custom annotation file, but only the middle variant also matches the\nalternate allele (allele-specific match):"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-scss"},"##fileformat=VCFv4.1\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO\n16  23603511    .   TG  T   .   .   .\n16  68801894    .   G   A   .   .   .\n19  11107436    .   G   C   .   .   .\n")),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA2.vcf"},"the full VCF file"),"."),Object(l.b)("h4",{id:"investigate-the-results-1"},"Investigate the Results"),Object(l.b)("p",null,"Because we specified ",Object(l.b)("inlineCode",{parentName:"p"},"#matchVariantsBy=allele")," in our custom annotation file, only the middle variant will get an annotation:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{12-18}","{12-18}":!0},'      "variants": [\n        {\n          "vid": "16-68801894-G-A",\n          "chromosome": "16",\n          "begin": 68801894,\n          "end": 68801894,\n          "refAllele": "G",\n          "altAllele": "A",\n          "variantType": "SNV",\n          "hgvsg": "NC_000016.10:g.68801894G>A",\n          "phylopScore": 1,\n          "MyDataSource": {\n            "refAllele": "G",\n            "altAllele": "A",\n            "allAf": 7e-06,\n            "pathogenicity": "LP",\n            "notes": "Seen in case 123"\n          },\n          "clinvar": [\n')),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA2.json.gz"},"the full JSON file"),"."),Object(l.b)("h4",{id:"using-positional-matches"},"Using Positional Matches"),Object(l.b)("p",null,"What would happen if we changed to ",Object(l.b)("inlineCode",{parentName:"p"},"#matchVariantsBy=position"),"? Two things will happen. First, our positional variants will now match:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{12-17}","{12-17}":!0},'      "variants": [\n        {\n          "vid": "16-23603511-TG-T",\n          "chromosome": "16",\n          "begin": 23603512,\n          "end": 23603512,\n          "refAllele": "G",\n          "altAllele": "-",\n          "variantType": "deletion",\n          "hgvsg": "NC_000016.10:g.23603512delG",\n          "MyDataSource": [\n            {\n              "refAllele": "GA",\n              "altAllele": "-",\n              "allAf": 7e-06,\n              "pathogenicity": "P"\n            }\n          ],\n          "clinvar": [\n')),Object(l.b)("p",null,"In addition, you will now see an extra flag for our allele-specific variant:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{12-20}","{12-20}":!0},'      "variants": [\n        {\n          "vid": "16-68801894-G-A",\n          "chromosome": "16",\n          "begin": 68801894,\n          "end": 68801894,\n          "refAllele": "G",\n          "altAllele": "A",\n          "variantType": "SNV",\n          "hgvsg": "NC_000016.10:g.68801894G>A",\n          "phylopScore": 1,\n          "MyDataSource": [\n            {\n              "refAllele": "G",\n              "altAllele": "A",\n              "allAf": 7e-06,\n              "pathogenicity": "LP",\n              "notes": "Seen in case 123",\n              "isAlleleSpecific": true\n            }\n          ],\n          "clinvar": [\n')),Object(l.b)("h3",{id:"genomic-region-example"},"Genomic Region Example"),Object(l.b)("h4",{id:"create-the-custom-annotation-tsv-2"},"Create the Custom Annotation TSV"),Object(l.b)("p",null,"In the previous example, we added a note for the middle variant, but sometimes it's handy to annotate a genomic region. Consider the following example:"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Col 1"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 2"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 3"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 4"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 5"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#title=MyDataSource"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#assembly=GRCh38"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#matchVariantsBy=allele"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#CHROM"),Object(l.b)("td",{parentName:"tr",align:"left"},"POS"),Object(l.b)("td",{parentName:"tr",align:"left"},"REF"),Object(l.b)("td",{parentName:"tr",align:"left"},"END"),Object(l.b)("td",{parentName:"tr",align:"left"},"notes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#categories"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#descriptions"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#type"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"20000000"),Object(l.b)("td",{parentName:"tr",align:"left"},"T"),Object(l.b)("td",{parentName:"tr",align:"left"},"70000000"),Object(l.b)("td",{parentName:"tr",align:"left"},"Lots of false positives in this region")))),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/MyDataSource3.tsv"},"the full TSV file"),"."),Object(l.b)("p",null,"Let's go over what's new in this example:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Column 5")," now has a field called ",Object(l.b)("inlineCode",{parentName:"li"},"notes"),". In essence, it looks exactly like column 7 from our previous example."),Object(l.b)("li",{parentName:"ul"},"The main difference is that now one of our custom annotation entries is actually a genomic region. Any variant that overlaps with that region will get a custom annotation.")),Object(l.b)("p",null,"In the previous example we learned about positional matching vs allele-specific matching. For genomic regions, ",Object(l.b)("inlineCode",{parentName:"p"},"#matchVariantsBy=allele")," and ",Object(l.b)("inlineCode",{parentName:"p"},"#matchVariantsBy=position")," produce\nthe same result."),Object(l.b)("h4",{id:"annotate-with-nirvana-2"},"Annotate with Nirvana"),Object(l.b)("p",null,"Let's use the same VCF file as our previous example."),Object(l.b)("h4",{id:"investigate-the-results-2"},"Investigate the Results"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{9-17}","{9-17}":!0},'    {\n      "chromosome": "16",\n      "position": 23603511,\n      "refAllele": "TG",\n      "altAlleles": [\n        "T"\n      ],\n      "cytogeneticBand": "16p12.2",\n      "MyDataSource": [\n        {\n          "start": 20000000,\n          "end": 70000000,\n          "notes": "Lots of false positives in this region",\n          "reciprocalOverlap": 0,\n          "annotationOverlap": 0\n        }\n      ],\n      "variants": [\n')),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA3.json.gz"},"the full JSON file"),"."),Object(l.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Reciprocal & Annotation Overlap")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"For all intervals, Nirvana internally calculates two overlaps: a ",Object(l.b)("strong",{parentName:"p"},"variant overlap")," and an ",Object(l.b)("strong",{parentName:"p"},"annotation overlap"),". Variant overlap is the percentage of the variant's length that is\noverlapped. Annotation overlap is the percentage of the annotation's length that is overlap. "),Object(l.b)("p",{parentName:"div"},Object(l.b)("strong",{parentName:"p"},"Reciprocal overlap")," is the minimum of those two overlaps. Given that the annotation is 50 Mbp and the deletion is one 1 bp, both overlaps will be pretty close to 0."))),Object(l.b)("p",null,"We will also see this annotation for the other variant on chr16:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{9-17}","{9-17}":!0},'    {\n      "chromosome": "16",\n      "position": 68801894,\n      "refAllele": "G",\n      "altAlleles": [\n        "A"\n      ],\n      "cytogeneticBand": "16q22.1",\n      "MyDataSource": [\n        {\n          "start": 20000000,\n          "end": 70000000,\n          "notes": "Lots of false positives in this region",\n          "reciprocalOverlap": 0,\n          "annotationOverlap": 0\n        }\n      ],\n      "variants": [\n')),Object(l.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Targeting Structural Variants")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Often we use genomic regions to represent other known CNVs and SVs in the genome. In this use case, we usually don't want to match these regions to other small variants. To\nforce Nirvana to match regions only to other SVs, use the ",Object(l.b)("inlineCode",{parentName:"p"},"#matchVariantsBy=sv")," option in the header."))),Object(l.b)("h3",{id:"mixing-small-variants-and-genomic-regions"},"Mixing Small Variants and Genomic Regions"),Object(l.b)("h4",{id:"create-the-custom-annotation-tsv-3"},"Create the Custom Annotation TSV"),Object(l.b)("p",null,"Previously we looked at examples that either had small variants or genomic regions. Let's create a file that contains both:"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Col 1"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 2"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 3"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 4"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 5"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 6"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#title=MyDataSource"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#assembly=GRCh38"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#matchVariantsBy=allele"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#CHROM"),Object(l.b)("td",{parentName:"tr",align:"left"},"POS"),Object(l.b)("td",{parentName:"tr",align:"left"},"REF"),Object(l.b)("td",{parentName:"tr",align:"left"},"ALT"),Object(l.b)("td",{parentName:"tr",align:"left"},"END"),Object(l.b)("td",{parentName:"tr",align:"left"},"notes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#categories"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#descriptions"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#type"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"23603511"),Object(l.b)("td",{parentName:"tr",align:"left"},"TGA"),Object(l.b)("td",{parentName:"tr",align:"left"},"T"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr16"),Object(l.b)("td",{parentName:"tr",align:"left"},"68801894"),Object(l.b)("td",{parentName:"tr",align:"left"},"G"),Object(l.b)("td",{parentName:"tr",align:"left"},"A"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr19"),Object(l.b)("td",{parentName:"tr",align:"left"},"11107436"),Object(l.b)("td",{parentName:"tr",align:"left"},"G"),Object(l.b)("td",{parentName:"tr",align:"left"},"A"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr21"),Object(l.b)("td",{parentName:"tr",align:"left"},"10510818"),Object(l.b)("td",{parentName:"tr",align:"left"},"C"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"10699435"),Object(l.b)("td",{parentName:"tr",align:"left"},"Interval #1")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr21"),Object(l.b)("td",{parentName:"tr",align:"left"},"10510818"),Object(l.b)("td",{parentName:"tr",align:"left"},"C"),Object(l.b)("td",{parentName:"tr",align:"left"},"<","DEL",">"),Object(l.b)("td",{parentName:"tr",align:"left"},"10699435"),Object(l.b)("td",{parentName:"tr",align:"left"},"Interval #2")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"chr22"),Object(l.b)("td",{parentName:"tr",align:"left"},"12370388"),Object(l.b)("td",{parentName:"tr",align:"left"},"T"),Object(l.b)("td",{parentName:"tr",align:"left"},"T[chr22:12370729["),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"Known false-positive")))),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/MyDataSource4.tsv"},"the full TSV file"),"."),Object(l.b)("p",null,"Let's go over what's new in this example:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Column 4")," now has the ",Object(l.b)("inlineCode",{parentName:"li"},"REF")," field. Exception for the case listed below, this is only used by small variants or translocation breakends."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Column 5")," now has the ",Object(l.b)("inlineCode",{parentName:"li"},"END")," field. This is only used by genomic regions."),Object(l.b)("li",{parentName:"ul"},"There are two custom annotations on chr21 and the start and end coordinates look the same, so what's different? Interval #2 has ",Object(l.b)("strong",{parentName:"li"},"a symbolic allele in the ALT column"),". When this is used in custom annotation, the start position is treated as the padding base (using VCF conventions). When Nirvana matches a variant to interval #2, it will ignore the padding base and consider the start position to be at position 10510819.")),Object(l.b)("h4",{id:"annotate-with-nirvana-3"},"Annotate with Nirvana"),Object(l.b)("p",null,"Let's use a new VCF file to study how matching works for intervals #1 and #2:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-scss"},"##fileformat=VCFv4.1\n#CHROM  POS ID  REF ALT QUAL    FILTER  INFO\n21  10510818    .   C   <DUP>   .   .   END=10699435;SVTYPE=DUP\n22  12370388    .   T   T[chr22:12370729[   .   .   SVTYPE=BND\n")),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA3.vcf"},"the full VCF file"),"."),Object(l.b)("p",null,'The first variant is similar to the custom annotation labelled "interval #2". Position 10510818 is the padding base, so it effectively starts at position 10510819.'),Object(l.b)("h4",{id:"investigate-the-results-3"},"Investigate the Results"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{11-26}","{11-26}":!0},'  "positions": [\n    {\n      "chromosome": "21",\n      "position": 10510818,\n      "svEnd": 10699435,\n      "refAllele": "C",\n      "altAlleles": [\n        "<DUP>"\n      ],\n      "cytogeneticBand": "21p11.2",\n      "MyDataSource": [\n        {\n          "start": 10510818,\n          "end": 10699435,\n          "notes": "Interval #1",\n          "reciprocalOverlap": 0.99999,\n          "annotationOverlap": 0.99999\n        },\n        {\n          "start": 10510819,\n          "end": 10699435,\n          "notes": "Interval #2",\n          "reciprocalOverlap": 1,\n          "annotationOverlap": 1\n        }\n      ],\n')),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA4.json.gz"},"the full JSON file"),"."),Object(l.b)("p",null,"As expected, the variant and interval #2 have matching endpoints, therefore there is 100% overlap. Interval #1 technically starts 1 bp earlier, so its overlap 99.9%."),Object(l.b)("p",null,"Further down the JSON file, we find the annotated translocation breakend:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{11-15}","{11-15}":!0},'      "variants": [\n        {\n          "vid": "22-12370388-T-T[chr22:12370729[",\n          "chromosome": "22",\n          "begin": 12370388,\n          "end": 12370388,\n          "isStructuralVariant": true,\n          "refAllele": "T",\n          "altAllele": "T[chr22:12370729[",\n          "variantType": "translocation_breakend",\n          "MyDataSource": {\n            "refAllele": "T",\n            "altAllele": "T[chr22:12370729[",\n            "notes": "Known false-positive"\n          }\n        }\n')),Object(l.b)("h2",{id:"gene-file-format"},"Gene File Format"),Object(l.b)("h3",{id:"basic-gene-example"},"Basic Gene Example"),Object(l.b)("h4",{id:"create-the-custom-annotation-tsv-4"},"Create the Custom Annotation TSV"),Object(l.b)("p",null,"Previously we looked at examples that either had small variants or genomic regions, however, sometimes we would like to add custom gene annotations. The gene custom annotation file format\nlooks slightly different:"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Col 1"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 2"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 3"),Object(l.b)("th",{parentName:"tr",align:"left"},"Col 4"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#title=MyDataSource"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#geneSymbol"),Object(l.b)("td",{parentName:"tr",align:"left"},"geneId"),Object(l.b)("td",{parentName:"tr",align:"left"},"phenotype"),Object(l.b)("td",{parentName:"tr",align:"left"},"notes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#categories"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#descriptions"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"#type"),Object(l.b)("td",{parentName:"tr",align:"left"},"."),Object(l.b)("td",{parentName:"tr",align:"left"},"string"),Object(l.b)("td",{parentName:"tr",align:"left"},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"TP53"),Object(l.b)("td",{parentName:"tr",align:"left"},"7157"),Object(l.b)("td",{parentName:"tr",align:"left"},"Colorectal cancer, hereditary nonpolyposis, type 5"),Object(l.b)("td",{parentName:"tr",align:"left"},".")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"KRAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"ENSG00000133703"),Object(l.b)("td",{parentName:"tr",align:"left"},"Mismatch repair cancer syndrome"),Object(l.b)("td",{parentName:"tr",align:"left"},"Seen in cohort 123")))),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/MyDataSource5.tsv"},"the full TSV file"),"."),Object(l.b)("p",null,"Let's go over what's in this example:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Column 2")," has the ",Object(l.b)("inlineCode",{parentName:"li"},"geneId")," field. This can be either an ",Object(l.b)("strong",{parentName:"li"},"Entrez Gene ID")," or an ",Object(l.b)("strong",{parentName:"li"},"Ensembl ID"),".")),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Gene Symbols")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Gene symbols are always in flux and are being updated on a daily basis at the NCBI and at HGNC. Due to this, Nirvana uses the ",Object(l.b)("inlineCode",{parentName:"p"},"geneId")," to match genes rather than the gene symbol. However, to\nmake the custom annotation files easier to read, we've included the ",Object(l.b)("inlineCode",{parentName:"p"},"geneSymbol")," column as well."))),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Unknown Gene IDs")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"When Nirvana parses the gene custom annotation file, it will note any gene IDs that are currently not recognized in Nirvana. In such a case, Nirvana will display an error showing all the\nunrecognized gene IDs."))),Object(l.b)("h4",{id:"annotate-with-nirvana-4"},"Annotate with Nirvana"),Object(l.b)("p",null,"Let's use a VCF file that contain variants in TP53 and KRAS:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-scss"},"##fileformat=VCFv4.1\n#CHROM  POS ID  REF ALT QUAL    FILTER  INFO\n12  25227255    .   A   T   .   .   .\n17  7675074 .   C   A   .   .   .\n")),Object(l.b)("p",null,"Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA4.vcf"},"the full VCF file"),"."),Object(l.b)("h4",{id:"investigate-the-results-4"},"Investigate the Results"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json",metastring:"{24-27}","{24-27}":!0},'  "genes": [\n    {\n      "name": "KRAS",\n      "clingenGeneValidity": [\n        {\n          "diseaseId": "MONDO_0009026",\n          "disease": "Costello syndrome",\n          "classification": "disputed",\n          "classificationDate": "2018-07-24"\n        }\n      ],\n      "clingenDosageSensitivityMap": {\n        "haploinsufficiency": "no evidence to suggest that dosage sensitivity is associated with clinical phenotype",\n        "triplosensitivity": "no evidence to suggest that dosage sensitivity is associated with clinical phenotype"\n      },\n      "gnomAD": {\n        "pLi": 0.000788,\n        "pRec": 0.789,\n        "pNull": 0.21,\n        "synZ": 0.336,\n        "misZ": 2.32,\n        "loeuf": 1.24\n      },\n      "MyDataSource": {\n        "phenotype": "Mismatch repair cancer syndrome",\n        "notes": "Seen in cohort 123"\n      }\n    },\n')),Object(l.b)("p",null,"This is the abbreviated output for KRAS. Here's ",Object(l.b)("a",{parentName:"p",href:"https://illumina.github.io/NirvanaDocumentation/files/TestCA5.json.gz"},"the full JSON file")," if you want to see the complete KRAS entry."),Object(l.b)("h2",{id:"customizing-the-header"},"Customizing the Header"),Object(l.b)("h3",{id:"title"},"Title"),Object(l.b)("p",null,"For the title, you can provide any string that hasn't already been used. The title should be unique."),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Make sure that the title does not conflict with other keys in the JSON file."))),Object(l.b)("p",null,"For small variants, you can't provide a title that conflicts with other keys in the variant object. Some examples of this would be\n",Object(l.b)("inlineCode",{parentName:"p"},"vid"),", ",Object(l.b)("inlineCode",{parentName:"p"},"chromosome"),", ",Object(l.b)("inlineCode",{parentName:"p"},"transcripts"),", etc.. The title should also not conflict with other data source keys like ",Object(l.b)("inlineCode",{parentName:"p"},"clinvar")," or ",Object(l.b)("inlineCode",{parentName:"p"},"gnomad"),"."),Object(l.b)("p",null,"For structural variants, you can't provide a title that conflicts with other keys in the position object. Some examples of this would be\n",Object(l.b)("inlineCode",{parentName:"p"},"chromosome"),", ",Object(l.b)("inlineCode",{parentName:"p"},"svLength"),", ",Object(l.b)("inlineCode",{parentName:"p"},"cytogeneticBand"),", etc. The title should also not conflict with other data source keys like ",Object(l.b)("inlineCode",{parentName:"p"},"clingen")," or ",Object(l.b)("inlineCode",{parentName:"p"},"dgv"),"."),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Care should be taken not to annotate using multiple custom annotations that all use the same title."))),Object(l.b)("h3",{id:"genome-assemblies"},"Genome Assemblies"),Object(l.b)("p",null,"The following genome assemblies can be specified:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"GRCh37"),Object(l.b)("li",{parentName:"ul"},"GRCh38")),Object(l.b)("h3",{id:"matching-criteria"},"Matching Criteria"),Object(l.b)("p",null,"The matching criteria instructs how Nirvana should match a VCF variant to the custom annotation."),Object(l.b)("p",null,"The following matching criteria can be specified:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"allele")," - use this when you only want allele-specific matches. This is commonly the case when using allele frequency data sources like ",Object(l.b)("inlineCode",{parentName:"li"},"gnomAD")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"position")," - use this when you want positional matches. This is commonly used with disease phenotype data sources like ",Object(l.b)("inlineCode",{parentName:"li"},"ClinVar")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"sv")," - use this when you want to match to all other overlapping SVs. This use case arose when we were adding custom annotations for baseline\ncopy number intervals along the genome.")),Object(l.b)("h3",{id:"categories"},"Categories"),Object(l.b)("p",null,"Categories are not used by Nirvana, but are often used by downstream tools. Categories provide hints for how those tools should filter or display\nthe annotation data."),Object(l.b)("p",null,"When a category is specified, Nirvana will provide additional validation for those fields. The following table describes each category:"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Category"),Object(l.b)("th",{parentName:"tr",align:"left"},"Description"),Object(l.b)("th",{parentName:"tr",align:"left"},"Validation"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"AlleleCount"),Object(l.b)("td",{parentName:"tr",align:"left"},"allele counts for a specific population"),Object(l.b)("td",{parentName:"tr",align:"left"},"See the supported populations below")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"AlleleNumber"),Object(l.b)("td",{parentName:"tr",align:"left"},"allele numbers for a specific population"),Object(l.b)("td",{parentName:"tr",align:"left"},"See the supported populations below")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"AlleleFrequency"),Object(l.b)("td",{parentName:"tr",align:"left"},"allele frequencies for a specific population"),Object(l.b)("td",{parentName:"tr",align:"left"},"See the supported populations below")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"Prediction"),Object(l.b)("td",{parentName:"tr",align:"left"},"ACMG-style pathogenicity classifications"),Object(l.b)("td",{parentName:"tr",align:"left"},"\u2022 ",Object(l.b)("inlineCode",{parentName:"td"},"benign")," (B)",Object(l.b)("br",null),"\u2022 ",Object(l.b)("inlineCode",{parentName:"td"},"likely benign")," (LB)",Object(l.b)("br",null),"\u2022 ",Object(l.b)("inlineCode",{parentName:"td"},"VUS"),Object(l.b)("br",null),"\u2022 ",Object(l.b)("inlineCode",{parentName:"td"},"likely pathogenic")," (LP)",Object(l.b)("br",null),"\u2022 ",Object(l.b)("inlineCode",{parentName:"td"},"pathogenic")," (P)")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"Filter"),Object(l.b)("td",{parentName:"tr",align:"left"},"free text that signals downstream tools to add the column to the filter"),Object(l.b)("td",{parentName:"tr",align:"left"},"Max 20 characters")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"Description"),Object(l.b)("td",{parentName:"tr",align:"left"},"free-text description"),Object(l.b)("td",{parentName:"tr",align:"left"},"Max 100 characters")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"Identifier"),Object(l.b)("td",{parentName:"tr",align:"left"},"any ID"),Object(l.b)("td",{parentName:"tr",align:"left"},"Max 50 characters")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"HomozygousCount"),Object(l.b)("td",{parentName:"tr",align:"left"},"count of homozygous individuals for a specific population"),Object(l.b)("td",{parentName:"tr",align:"left"},"See the supported populations below")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"Score"),Object(l.b)("td",{parentName:"tr",align:"left"},"any score value"),Object(l.b)("td",{parentName:"tr",align:"left"},"Any double-precision floating point number")))),Object(l.b)("h3",{id:"descriptions"},"Descriptions"),Object(l.b)("p",null,"Descriptions are used to add more context to the categories. For now, descriptions are mainly used to associate allele counts, numbers, and frequencies with their respective populations."),Object(l.b)("h4",{id:"populations"},"Populations"),Object(l.b)("p",null,"The following populations were specified in the HapMap project, 1000 Genomes Project, ExAC, and gnomAD."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:"left"},"Population Code"),Object(l.b)("th",{parentName:"tr",align:"left"},"Super-population Code"),Object(l.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"ACB"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"African Caribbeans in Barbados")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"African")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"ALL"),Object(l.b)("td",{parentName:"tr",align:"left"},"ALL"),Object(l.b)("td",{parentName:"tr",align:"left"},"All populations")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"AMR"),Object(l.b)("td",{parentName:"tr",align:"left"},"AMR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Ad Mixed American")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"ASJ"),Object(l.b)("td",{parentName:"tr",align:"left"}),Object(l.b)("td",{parentName:"tr",align:"left"},"Ashkenazi Jewish")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"ASW"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Americans of African Ancestry in SW USA")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"BEB"),Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Bengali from Bangladesh")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"CDX"),Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Chinese Dai in Xishuangbanna, China")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"CEU"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Utah Residents (CEPH) with Northern and Western European Ancestry")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"CHB"),Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Han Chinese in Beijing, China")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"CHS"),Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Southern Han Chinese")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"CLM"),Object(l.b)("td",{parentName:"tr",align:"left"},"AMR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Colombians from Medellin, Colombia")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"East Asian")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"ESN"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Esan in Nigeria")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"European")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"FIN"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Finnish in Finland")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"GBR"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"British in England and Scotland")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"GIH"),Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Gujarati Indian from Houston, Texas")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"GWD"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Gambian in Western Divisions in the Gambia")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"IBS"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Iberian population in Spain")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"ITU"),Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Indian Telugu from the UK")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"JPT"),Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Japanese in Tokyo, Japan")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"KHV"),Object(l.b)("td",{parentName:"tr",align:"left"},"EAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Kinh in Ho Chi Minh City, Vietnam")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"LWK"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Luhya in Webuye, Kenya")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"MAG"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Mandinka in the Gambia")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"MKK"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Maasai in Kinyawa, Kenya")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"MSL"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Mende in Sierra Leone")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"MXL"),Object(l.b)("td",{parentName:"tr",align:"left"},"AMR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Mexican Ancestry from Los Angeles, USA")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"NFE"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"European (Non-Finnish)")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"OTH"),Object(l.b)("td",{parentName:"tr",align:"left"},"OTH"),Object(l.b)("td",{parentName:"tr",align:"left"},"Other")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"PEL"),Object(l.b)("td",{parentName:"tr",align:"left"},"AMR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Peruvians from Lima, Peru")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"PJL"),Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Punjabi from Lahore, Pakistan")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"PUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"AMR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Puerto Ricans from Puerto Rico")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"South Asian")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"STU"),Object(l.b)("td",{parentName:"tr",align:"left"},"SAS"),Object(l.b)("td",{parentName:"tr",align:"left"},"Sri Lankan Tamil from the UK")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"TSI"),Object(l.b)("td",{parentName:"tr",align:"left"},"EUR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Toscani in Italia")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:"left"},"YRI"),Object(l.b)("td",{parentName:"tr",align:"left"},"AFR"),Object(l.b)("td",{parentName:"tr",align:"left"},"Yoruba in Ibadan, Nigeria")))),Object(l.b)("h3",{id:"data-types"},"Data Types"),Object(l.b)("p",null,"Each custom annotation can be one of the following data types:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"bool")," - true or false"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"number")," - any integer or floating-point number"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"string")," - text")),Object(l.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"For boolean variables, only keys with a ",Object(l.b)("inlineCode",{parentName:"p"},"true")," value will be output to the JSON object."))),Object(l.b)("h2",{id:"using-sautils"},"Using SAUtils"),Object(l.b)("p",null,"Nirvana includes a tool called ",Object(l.b)("inlineCode",{parentName:"p"},"SAUtils")," that converts various data sources into Nirvana's native binary format. The sub-commands ",Object(l.b)("inlineCode",{parentName:"p"},"customvar")," and ",Object(l.b)("inlineCode",{parentName:"p"},"customgene")," are used to specify a variant file or a gene file respectively."),Object(l.b)("h3",{id:"convert-variant-file"},"Convert Variant File"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},"dotnet bin/Release/netcoreapp2.1/SAUtils.dll customvar \\\n     -r Data/References/Homo_sapiens.GRCh37.Nirvana.dat \\\n     -i MyDataSource.tsv \\\n     -o SupplementaryAnnotation\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"the ",Object(l.b)("inlineCode",{parentName:"li"},"-r")," argument specifies the compressed reference path"),Object(l.b)("li",{parentName:"ul"},"the ",Object(l.b)("inlineCode",{parentName:"li"},"-i")," argument specifies the input TSV path"),Object(l.b)("li",{parentName:"ul"},"the ",Object(l.b)("inlineCode",{parentName:"li"},"-o")," argument specifies the output directory")),Object(l.b)("h3",{id:"convert-gene-file"},"Convert Gene File"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},"dotnet bin/Release/netcoreapp2.1/SAUtils.dll customgene \\\n     --uga Nirvana_UGA.tsv \\\n     -i MyDataSource.tsv \\\n     -o SupplementaryAnnotation\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"the ",Object(l.b)("inlineCode",{parentName:"li"},"--uga")," argument specifies the Nirvana universal gene archive (UGA) path"),Object(l.b)("li",{parentName:"ul"},"the ",Object(l.b)("inlineCode",{parentName:"li"},"-i")," argument specifies the input TSV path"),Object(l.b)("li",{parentName:"ul"},"the ",Object(l.b)("inlineCode",{parentName:"li"},"-o")," argument specifies the output directory")))}p.isMDXComponent=!0},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return O}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=r.a.createContext({}),p=function(e){var t=r.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):b(b({},t),e)),a},m=function(e){var t=p(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,i=e.parentName,o=c(e,["components","mdxType","originalType","parentName"]),m=p(a),d=n,O=m["".concat(i,".").concat(d)]||m[d]||s[d]||l;return a?r.a.createElement(O,b(b({ref:t},o),{},{components:a})):r.a.createElement(O,b({ref:t},o))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=d;var b={};for(var c in t)hasOwnProperty.call(t,c)&&(b[c]=t[c]);b.originalType=e,b.mdxType="string"==typeof e?e:n,i[1]=b;for(var o=2;o<l;o++)i[o]=a[o];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);